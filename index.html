<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>å¸ƒå¶æ—¥å’Œ | å°ˆå±¬æ‰‹ä½œè¨‚è£½</title>
    <link rel="icon" href="logo.png" type="image/png">
    
    <style>
        /* --- å­—é«”èˆ‡åŸºç¤è¨­å®š --- */
        @font-face { font-family: 'OpenHuninn'; src: url('jf-openhuninn-2.0.ttf') format('truetype'); }
        :root {
            --color-purple: #cdb4db; --color-pink-light: #ffc8dd; --color-pink-hot: #ffafcc;
            --color-blue-light: #bde0fe; --color-blue-sky: #a2d2ff; --text-color: #5a4a4a;
            --white-glass: rgba(255, 255, 255, 0.95);
        }
        * { box-sizing: border-box; }
        body {
            font-family: 'OpenHuninn', sans-serif; margin: 0; padding: 0;
            background: linear-gradient(135deg, var(--color-blue-light) 0%, var(--color-pink-light) 100%);
            color: var(--text-color); line-height: 1.7; background-attachment: fixed;
        }
        a { text-decoration: none; color: inherit; transition: 0.3s; }
        
        /* --- å°è¦½åˆ— --- */
        header {
            background: rgba(255, 255, 255, 0.98); padding: 1rem 2rem; position: sticky; top: 0; z-index: 1000;
            box-shadow: 0 4px 20px rgba(162, 210, 255, 0.3); display: flex; justify-content: space-between; align-items: center;
            border-bottom: 3px solid var(--color-pink-hot);
        }
        .logo { font-size: 1.5rem; color: var(--color-pink-hot); font-weight: bold; white-space: nowrap; display: flex; align-items: center; gap: 10px;}
        .logo img { height: 40px; width: 40px; border-radius: 50%; object-fit: cover; }
        
        nav ul { display: flex; gap: 15px; align-items: center; list-style: none; margin: 0; padding: 0; }
        nav a { font-size: 1rem; color: #777; font-weight: bold; white-space: nowrap; }
        nav a:hover { color: var(--color-blue-sky); }
        .btn-nav { background: var(--color-pink-hot); color: white !important; padding: 8px 20px; border-radius: 50px; }

        /* --- è¼ªæ’­åœ– --- */
        .carousel-container { width: 100%; height: 500px; position: relative; overflow: hidden; background: #fff; }
        .carousel-slide { position: absolute; width: 100%; height: 100%; opacity: 0; transition: opacity 1s; background-size: cover; background-position: center; }
        .carousel-slide.active { opacity: 1; }
        .carousel-caption { position: absolute; bottom: 0; width: 100%; background: linear-gradient(transparent, rgba(255,255,255,0.9)); padding: 40px 20px 30px; text-align: center; }
        .carousel-caption h1 { margin: 0; color: var(--color-purple); font-size: 2rem; text-shadow: 2px 2px 0px white; }

        /* --- å€å¡Šé€šç”¨ --- */
        section { padding: 3rem 1rem; max-width: 1000px; margin: 0 auto; }
        .section-card { background: var(--white-glass); border-radius: 30px; padding: 30px; box-shadow: 0 10px 30px rgba(189, 224, 254, 0.4); margin-bottom: 2rem; border: 2px solid white; }
        h2 { text-align: center; color: var(--color-blue-sky); font-size: 1.8rem; margin-bottom: 2rem; position: relative; }
        h2::after { content: ''; display: block; width: 50px; height: 5px; background: var(--color-pink-hot); margin: 10px auto 0; border-radius: 10px; }

        /* --- åƒ¹ç›®è¡¨æ¨£å¼ --- */
        .price-list { list-style: none; padding: 0; }
        .price-list li { background: white; padding: 15px; margin-bottom: 10px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #eee; }
        .price-desc { font-size: 0.9rem; color: #888; display: block; margin-top: 5px; }

        /* --- æ¨¡æ“¬å™¨å€å¡Šæ¨£å¼ --- */
        .simulator-layout { display: flex; align-items: center; gap: 30px; padding: 10px; }
        .sim-content { flex: 1; }
        .sim-image {
            flex: 1; height: 250px; 
            background-color: white; border: 4px dashed var(--color-purple); border-radius: 20px;
            display: flex; align-items: center; justify-content: center;
            overflow: hidden; 
        }
        .sim-image img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s; }
        .sim-image img:hover { transform: scale(1.05); }

        .btn-sim {
            display: inline-block; margin-top: 15px; background: var(--color-purple); color: white;
            padding: 12px 35px; border-radius: 50px; font-size: 1.1rem; font-weight: bold;
            box-shadow: 0 5px 15px rgba(205, 180, 219, 0.5); border: none; cursor: pointer;
        }
        .btn-sim:hover { background: var(--color-pink-hot); transform: scale(1.05); }

        /* --- è¡¨å–®æ¨£å¼ --- */
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: var(--text-color); }
        input, select, textarea { width: 100%; padding: 12px; border: 2px solid var(--color-blue-light); border-radius: 15px; font-family: 'OpenHuninn', sans-serif; font-size: 1rem; background: rgba(255,255,255,0.7); box-sizing: border-box; }
        .btn-submit { width: 100%; background: var(--color-blue-sky); color: white; padding: 15px; border: none; border-radius: 50px; font-size: 1.2rem; cursor: pointer; font-family: 'OpenHuninn', sans-serif; }

        /* --- æ‰‹æ©Ÿç‰ˆé©é… --- */
        @media (max-width: 768px) {
            header { flex-direction: column; padding: 15px; gap: 15px; }
            nav ul { flex-wrap: wrap; justify-content: center; gap: 10px; }
            .carousel-container { height: 300px; }
            .simulator-layout { flex-direction: column; text-align: center; } 
            .sim-image { width: 100%; height: 200px; }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo">
            <img src="logo.png" alt="Logo"> 
            â˜€ï¸ å¸ƒå¶æ—¥å’Œ
        </div>
        <nav>
            <ul>
                <li><a href="#info">åº—é¢è³‡è¨Š</a></li>
                <li><a href="#pricing">åƒ¹ç›®è¡¨</a></li>
                <li><a href="shop.html" target="_blank" style="color: var(--color-pink-hot);">ğŸ›ï¸ ç·šä¸Šå•†åŸ</a></li>
                <li><a href="#sim-section" style="color: var(--color-purple);">ğŸ¨ å¨ƒç¨¿æ¨¡æ“¬</a></li>
                <li><a href="#order" class="btn-nav">ç«‹å³é ç´„</a></li>
            </ul>
        </nav>
    </header>

    <div class="carousel-container">
        <div class="carousel-slide active" style="background-image: url('banner1.jpg');"></div>
        <div class="carousel-slide" style="background-image: url('banner2.jpg');"></div>
        <div class="carousel-slide" style="background-image: url('banner3.jpg');"></div>
        <div class="carousel-caption">
            <h1>å¸ƒå¶æ—¥å’Œ | æ‰‹ä½œæº«åº¦</h1>
        </div>
    </div>

    <section id="info">
        <div class="section-card">
            <h2>â˜ï¸ å¯¦é«”åº—é¢è³‡è¨Š</h2>
            <div style="display: flex; flex-wrap: wrap; gap: 20px;">
                <div style="flex: 1; min-width: 280px;">
                    <p><strong>ğŸ“ åœ°å€ï¼š</strong>å°åŒ—å¸‚å¤¢å¹»å€æ£‰èŠ±è·¯ 123 è™Ÿ</p>
                    <p><strong>â° ç‡Ÿæ¥­æ™‚é–“ï¼š</strong>é€±äºŒè‡³é€±æ—¥ 13:00 - 20:00</p>
                    <p><strong>ğŸ“ é›»è©±ï¼š</strong>02-1234-5678</p>
                </div>
                <div style="flex: 1; height: 200px; background: #eee; border-radius: 15px; display: flex; align-items: center; justify-content: center;">
                    [Google Map åœ°åœ–]
                </div>
            </div>
        </div>
    </section>

    <section id="pricing">
        <div class="section-card">
            <h2>ğŸ€ æœå‹™åƒ¹ç›®è¡¨</h2>
            <h3 style="color: var(--color-purple);">ğŸ§µ å°ˆæ¥­æ‰‹ä½œèª²ç¨‹ (ç´„ 7-8 å°æ™‚)</h3>
            <ul class="price-list">
                <li><div>åŸºç¤ç­ (10~20cm)<span class="price-desc">é©åˆæ–°æ‰‹ï¼Œå«æ•™å­¸ã€åŠæˆå“èˆ‡å¨ƒç¨¿è¨­è¨ˆ</span></div><span>$4,000</span></li>
                <li><div>é€²éšç­ (ç‰¹æ®Šé€ å‹)<span class="price-desc">é©åˆæœ‰åŸºç¤è€…ï¼Œç¸è€³æ‰“ç‰ˆã€ç‰¹æ®Šé«”å‹</span></div><span>$4,000</span></li>
            </ul>

            <h3 style="color: var(--color-purple); margin-top: 30px;">âœ¨ å®¢è£½åŒ–è¨‚è£½ (æœƒè¦–è¤‡é›œåº¦æ–Ÿé…ŒåŠ åƒ¹)</h3>
            <ul class="price-list">
                <li><div>10cm æ£‰èŠ±å¨ƒ</div><span>$1,500 èµ·</span></li>
                <li><div>15cm æ£‰èŠ±å¨ƒ</div><span>$2,000 èµ·</span></li>
                <li><div>20cm æ£‰èŠ±å¨ƒ</div><span>$2,500 èµ·</span></li>
                <li><div>å…¶ä»–ç‰¹æ®Šç‰ˆå‹</div><span>$3,000 èµ·</span></li>
            </ul>
        </div>
    </section>

    <section id="sim-section">
        <div class="section-card">
            <h2>ğŸ¨ å°ˆå±¬å¨ƒç¨¿æ¨¡æ“¬</h2>
            <div class="simulator-layout">
                <div class="sim-content">
                    <h3 style="color: var(--text-color); margin-bottom: 10px;">é‚„æ²’æ±ºå®šå¥½è¨­è¨ˆåœ–å—ï¼Ÿ</h3>
                    <p>è…¦æµ·ä¸­æœ‰æƒ³æ³•ï¼Œå»ç•«ä¸å‡ºä¾†å—ï¼Ÿ<br>åˆ¥æ“”å¿ƒï¼æˆ‘å€‘é–‹ç™¼äº†ç·šä¸Šæ¨¡æ“¬å™¨ï¼Œè®“æ‚¨è¼•é¬†æ‹¼æ¹Šå‡ºå¿ƒç›®ä¸­çš„å¨ƒå¨ƒæ¨¡æ¨£ã€‚</p>
                    <ul style="margin: 15px 0; color: #666; font-size: 0.95rem; padding-left: 20px;">
                        <li>âœ”ï¸ å¤šç¨®é«®å‹ã€çœ¼ç›ã€è†šè‰²è‡ªç”±æ­é…</li>
                        <li>âœ”ï¸ æ¨¡æ“¬å®Œæˆå¾Œå¯ä¸‹è¼‰åœ–ç‰‡</li>
                        <li>âœ”ï¸ ä¸‹å–®æ™‚ç›´æ¥ä¸Šå‚³æˆªåœ–å³å¯</li>
                    </ul>
                    <a href="simulator.html" target="_blank" class="btn-sim">ğŸ‘‰ ç«‹å³è©¦ç©æ¨¡æ“¬å™¨</a>
                </div>
                <div class="sim-image">
                    <img src="simulator-preview.jpg" alt="å¨ƒç¨¿æ¨¡æ“¬å™¨é è¦½" onerror="this.src='https://placehold.co/600x400/cdb4db/white?text=Preview';">
                </div>
            </div>
        </div>
    </section>

    <section id="order">
        <div class="section-card" style="border: 4px solid var(--color-pink-hot);">
            <h2>ğŸ“ èª²ç¨‹ / è¨‚è£½ é ç´„å–®</h2>
            <form onsubmit="handleBooking(event)">
                <div class="form-group">
                    <label>æ‚¨çš„ç¨±å‘¼</label>
                    <input type="text" id="name" required placeholder="è«‹è¼¸å…¥æ‚¨çš„æš±ç¨±">
                </div>

                <div class="form-group">
                    <label>è¯çµ¡ Email (æˆ‘å€‘æœƒå¯„é€ç¢ºèªä¿¡çµ¦æ‚¨)</label>
                    <input type="email" id="email" required placeholder="example@email.com">
                </div>
                
                <div class="form-group">
                    <label>é ç´„é …ç›®</label>
                    <select id="serviceType" required onchange="updateTips()">
                        <option value="" disabled selected>è«‹é¸æ“‡...</option>
                        <optgroup label="ğŸ§µ æ‰‹ä½œèª²ç¨‹ (è¨‚é‡‘ $500)">
                            <option value="course_basic|500">åŸºç¤ç­èª²ç¨‹ (è¨‚é‡‘ $500)</option>
                            <option value="course_adv|500">é€²éšç­èª²ç¨‹ (è¨‚é‡‘ $500)</option>
                        </optgroup>
                        <optgroup label="âœ¨ å®¢è£½åŒ–è¨‚è£½ (å…è²»è«®è©¢)">
                            <option value="custom_10|0">10cm è¨‚è£½è«®è©¢ ($0)</option>
                            <option value="custom_15|0">15cm è¨‚è£½è«®è©¢ ($0)</option>
                            <option value="custom_20|0">20cm è¨‚è£½è«®è©¢ ($0)</option>
                            <option value="custom_other|0">ç‰¹æ®Šç‰ˆå‹è«®è©¢ ($0)</option>
                        </optgroup>
                    </select>
                    <p id="priceTip" style="font-size: 0.9rem; color: var(--color-pink-hot); margin-top: 5px; font-weight: bold;"></p>
                </div>

                <div class="form-group">
                    <label>å¸Œæœ›é ç´„æ—¥æœŸ / è«®è©¢æ—¥æœŸ</label>
                    <input type="date" id="bookingDate" required>
                </div>

                <div class="form-group">
                    <label>å‚™è¨»éœ€æ±‚</label>
                    <textarea id="note" rows="4"></textarea>
                </div>
                
                <button type="submit" class="btn-submit">é€å‡ºé ç´„</button>
            </form>
        </div>
    </section>

    <footer style="text-align: center; padding: 3rem; background: var(--color-purple); color: white;">
        <p>&copy; 2024 å¸ƒå¶æ—¥å’Œ (Buou Rihe)</p>
    </footer>

    <script>
        // è¼ªæ’­åœ–
        let currentSlide = 0;
        const slides = document.querySelectorAll('.carousel-slide');
        setInterval(() => {
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active');
        }, 4000);

        // åƒ¹æ ¼æç¤º
        function updateTips() {
            const val = document.getElementById('serviceType').value;
            const price = parseInt(val.split('|')[1]);
            const tip = document.getElementById('priceTip');
            if(price > 0) tip.innerText = `â€» æ­¤èª²ç¨‹éœ€å…ˆæ”¯ä»˜è¨‚é‡‘ NT$ ${price} ä»¥ä¿ç•™åé¡ (èª²ç¨‹ç¸½åƒ¹ NT$ 4,000)ã€‚`;
            else tip.innerText = `â€» æ­¤ç‚ºå…è²»è«®è©¢ï¼Œé€å‡ºå¾Œå°‡ç”±å°ˆäººè¯ç¹«æ‚¨ï¼Œè«‹è¨˜å¾—åœ¨é ç´„æ—¥æœŸå‰å¾€ã€‚`;
        }

        // é ç´„é€å‡º
        function handleBooking(event) {
            event.preventDefault();
            
            const serviceSelect = document.getElementById('serviceType');
            const selectedOption = serviceSelect.options[serviceSelect.selectedIndex];
            const rawValue = serviceSelect.value;
            if(!rawValue) return;

            const [type, priceStr] = rawValue.split('|');
            const price = parseInt(priceStr);
            
            const bookingData = {
                type: type,
                name: selectedOption.text.split('(')[0].trim(),
                price: price,
                date: document.getElementById('bookingDate').value,
                user: document.getElementById('name').value,
                email: document.getElementById('email').value,
                note: document.getElementById('note').value
            };

            localStorage.removeItem('shopCart'); 
            localStorage.setItem('bookingData', JSON.stringify(bookingData));
            
            if (price === 0) {
                // å…è²»è«®è©¢ -> è·³æˆåŠŸé 
                const finalOrder = {
                    isBooking: true,
                    isPaid: false,
                    contactEmail: bookingData.email,
                    bookingDate: bookingData.date,
                    items: [{ name: bookingData.name + " (è«®è©¢)", price: 0 }],
                    total: 0
                };
                localStorage.setItem('lastOrder', JSON.stringify(finalOrder));
                window.location.href = "success.html";
            } else {
                // ä»˜è²»èª²ç¨‹ -> è·³ä»˜æ¬¾é 
                window.location.href = "payment.html";
            }
        }
    </script>
</body>
</html>
